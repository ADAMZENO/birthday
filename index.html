<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>pink¬∑memory ¬∑ birthday story (no codes)</title>

  <!-- Google Fonts (premium typography) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&family=Poppins:wght@400;600&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&family=Poppins:wght@400;600&display=swap" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&family=Poppins:wght@400;600&display=swap"></noscript>

  <style>
    /* -------------------- ROOT & GLOBAL (with performance hints) -------------------- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --bg-gradient-1: #ffd6e7;
      --bg-gradient-2: #ff9ecf;
      --bg-gradient-3: #ff4fa3;
      --text-primary: #2f1422;
      --text-muted: #5c3a4a;
      --accent-pink: #ff4fa3;
      --glass-bg: rgba(255, 245, 250, 0.7);
      --glass-border: rgba(255, 255, 255, 0.5);
      --shadow-soft: 0 20px 40px rgba(255, 79, 163, 0.2);
      --font-heading: 'Poppins', 'Quicksand', system-ui, sans-serif;
      --font-body: 'Kanit', 'Prompt', system-ui, sans-serif;
      --base-font-size: clamp(1rem, 2vw, 1.2rem);
      --line-height-body: 1.8;
    }

    body {
      font-family: var(--font-body);
      font-size: var(--base-font-size);
      line-height: var(--line-height-body);
      color: var(--text-primary);
      background: var(--bg-gradient-1);
      scroll-snap-type: y mandatory;
      overflow-y: scroll;
      height: 100vh;
      scroll-behavior: smooth;
      font-weight: 300;
      position: relative;
    }

    /* Vignette overlay */
    body::after {
      content: '';
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: radial-gradient(circle at 50% 50%, transparent 40%, rgba(0,0,0,0.05) 90%);
      pointer-events: none;
      z-index: 1;
    }

    /* Animated gradient background */
    body::before {
      content: '';
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: linear-gradient(145deg, var(--bg-gradient-1), var(--bg-gradient-2), var(--bg-gradient-3));
      background-size: 400% 400%;
      animation: gradientFlow 22s ease infinite;
      z-index: -2;
    }

    @keyframes gradientFlow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Floating particles (mobile optimized) */
    .heart-particle {
      position: fixed;
      pointer-events: none;
      color: rgba(255, 255, 255, 0.2);
      font-size: 1.8rem;
      z-index: -1;
      animation: floatHeart 16s infinite linear;
    }

    @keyframes floatHeart {
      0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
      20% { opacity: 0.3; }
      100% { transform: translateY(-20vh) rotate(360deg); opacity: 0; }
    }

    /* Sparkle shapes */
    .sparkle {
      position: fixed;
      width: 6px; height: 6px;
      background: white;
      border-radius: 50%;
      filter: blur(2px);
      opacity: 0.4;
      animation: twinkle 3s infinite alternate;
      z-index: -1;
    }

    @keyframes twinkle {
      0% { opacity: 0.2; transform: scale(0.8); }
      100% { opacity: 0.7; transform: scale(1.5); }
    }

    /* Sections */
    section {
      min-height: 100vh;
      scroll-snap-align: start;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 5vw;
      position: relative;
      transition: opacity 0.5s ease, filter 0.5s ease;
      will-change: opacity, filter;
      transform: translateZ(0);
    }
    section.fade-out {
      opacity: 0.5;
      filter: blur(4px);
    }

    /* Glass card + GPU acceleration */
    .glass-card {
      background: var(--glass-bg);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-radius: 30px;
      box-shadow: var(--shadow-soft), inset 0 1px 3px rgba(255,255,255,0.8);
      padding: 3rem 2.5rem;
      border: 1px solid var(--glass-border);
      width: 100%;
      max-width: 900px;
      margin: 5vh auto;
      color: var(--text-primary);
      will-change: transform, opacity;
      transform: translateZ(0);
    }

    /* Headings */
    h1, h2, h3 {
      font-family: var(--font-heading);
      font-weight: 600;
      line-height: 1.2;
      letter-spacing: 1px;
      background: linear-gradient(135deg, #3a1626, #7a3f5a);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 2px 15px rgba(255, 200, 230, 0.8);
    }

    h1 { font-size: clamp(2.8rem, 12vw, 5.5rem); }
    h2 { font-size: clamp(2.2rem, 8vw, 3.5rem); }
    h3 { font-size: clamp(1.8rem, 5vw, 2.5rem); }

    /* Buttons with ripple */
    .btn {
      position: relative;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.9);
      border: 2px solid #ffb0d0;
      padding: 14px 40px;
      border-radius: 60px;
      font-size: 1.3rem;
      font-weight: 600;
      font-family: var(--font-heading);
      color: #4d1f33;
      cursor: pointer;
      box-shadow: 0 8px 18px rgba(255, 79, 163, 0.3);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      margin-top: 20px;
      display: inline-block;
    }

    .btn:hover {
      transform: scale(1.05);
      box-shadow: 0 12px 28px #ff4fa3;
    }

    .btn .ripple {
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.6);
      transform: scale(0);
      animation: ripple-animation 0.6s ease-out;
      pointer-events: none;
    }

    @keyframes ripple-animation {
      to { transform: scale(4); opacity: 0; }
    }

    /* -------------------- NO ENTRY LOCK (removed) -------------------- */

    /* Cursor glow (desktop only) */
    .cursor-glow {
      position: fixed;
      width: 200px; height: 200px;
      background: radial-gradient(circle, rgba(255, 140, 200, 0.25) 0%, transparent 70%);
      border-radius: 50%;
      pointer-events: none;
      z-index: 9999;
      transform: translate(-50%, -50%);
      transition: opacity 0.2s;
      opacity: 0;
    }
    @media (hover: hover) {
      .cursor-glow { opacity: 1; }
    }

    /* -------------------- MUSIC BUTTON (single, decorative) -------------------- */
    .music-btn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 9999;
      background: linear-gradient(145deg, #ff9ecf, #ff6bb3, #ff3f98);
      background-size: 200% 200%;
      color: white;
      border: none;
      padding: 16px 28px;
      border-radius: 60px;
      font-size: 1.3rem;
      font-weight: 600;
      font-family: var(--font-heading);
      letter-spacing: 1px;
      cursor: pointer;
      box-shadow: 0 15px 30px rgba(255, 79, 163, 0.5);
      transition: all 0.3s ease;
      border: 2px solid rgba(255, 255, 255, 0.6);
      backdrop-filter: blur(4px);
      animation: musicPulse 2.5s infinite;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .music-btn:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 25px 40px rgba(255, 79, 163, 0.7);
      background: linear-gradient(145deg, #ffb0d6, #ff7fbc, #ff4fa3);
    }

    @keyframes musicPulse {
      0% { box-shadow: 0 10px 25px rgba(255,105,180,0.4); }
      50% { box-shadow: 0 20px 40px rgba(255,105,180,0.8); }
      100% { box-shadow: 0 10px 25px rgba(255,105,180,0.4); }
    }

    /* -------------------- CAKE & SLICES (FIXED) -------------------- */
    .cake-wrapper {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: opacity 0.6s ease;
      will-change: transform, opacity;
      transform: translateZ(0);
    }

    .cake-svg {
      width: 100%;
      max-width: 450px;
      height: auto;
      filter: drop-shadow(0 15px 20px rgba(255, 80, 140, 0.3));
      transition: filter 0.3s ease;
      will-change: transform;
    }

    .slice-group {
      transition: opacity 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), transform 0.4s ease;
      transform-origin: center;
    }

    .slice-hidden {
      opacity: 0 !important;
      transform: translateY(20px) scale(0.9) !important;
      transition: all 0.4s ease;
      pointer-events: none;
    }

    .bounce-animation {
      animation: cakeBounce 0.4s ease;
    }

    @keyframes cakeBounce {
      0% { transform: scale(1); }
      40% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    /* cake fade out (new) */
    .cake-fade-out {
      animation: cakeFadeOut 0.6s ease forwards;
    }

    @keyframes cakeFadeOut {
      to {
        opacity: 0;
        transform: scale(0.9);
        visibility: hidden;
      }
    }

    /* -------------------- FINAL PAPER CARD (FIXED) -------------------- */
    .paper-card {
      background: #fffafc;
      border-radius: 30px;
      padding: 2.5rem 2rem;
      max-width: 600px;
      width: 90%;
      box-shadow: 0 40px 60px rgba(200, 30, 100, 0.3), 0 10px 30px #ffb0d0;
      border: 3px solid white;
      margin: 2rem auto 0;
      color: #3a1626;
      display: none;               /* hidden by default */
      opacity: 0;
      transform: translateY(40px);
      transition: opacity 0.6s ease, transform 0.6s ease;
      will-change: transform, opacity;
    }

    .paper-card.show {
      display: block;              /* make visible */
      opacity: 1;
      transform: translateY(0);
    }

    /* canvas confetti */
    #confetti-canvas {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 1000;
    }

    /* fallback message */
    .no-script {
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 2rem;
      border-radius: 30px;
      text-align: center;
      z-index: 10000;
    }

    @media (max-width: 768px) {
      .cursor-glow { display: none; }
      .music-btn { padding: 12px 20px; font-size: 1.1rem; bottom: 20px; right: 20px; }
    }
  </style>
</head>
<body>
  <noscript><div class="no-script">‚ú® This birthday page needs JavaScript to sparkle ‚ú®</div></noscript>

  <!-- Cursor Glow Element -->
  <div class="cursor-glow" id="cursorGlow"></div>

  <!-- SINGLE MUSIC BUTTON (decorative) -->
  <button id="musicToggle" class="music-btn">üéµ ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á</button>

  <!-- particles container -->
  <div id="particles-container" style="position:fixed; inset:0; pointer-events:none; z-index:-1;"></div>
  <canvas id="confetti-canvas"></canvas>

  <!-- hidden YouTube player container -->
  <div id="yt-player" style="display:none;"></div>

  <!-- ========== MAIN CONTENT SECTIONS ========== -->
  <section id="page1" class="fade-in">
    <div class="glass-card center-text">
      <span class="small-overline">‚ú® ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏°‡∏≤‡∏Å‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏î‡∏≤ ‚ú®</span>
      <h1>Happy Birthday</h1>
      <p style="font-size: 2rem; background: none;">March 3 üíñ</p>
      <button class="btn" id="beginBtn">‡∏Å‡∏î‡∏ï‡∏£‡∏á‡∏á‡∏á‡∏ô‡∏µ‡πâ</button>
    </div>
  </section>

  <section id="page2">
    <div class="glass-card" style="position: relative;">
      <div style="position: absolute; top: 25px; left: 30px;">
        <svg class="heart-svg" width="40" height="40" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff477e"/></svg>
      </div>
      <div class="center-text">
        <h2>‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡πÄ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏Å‡∏±‡∏ô</h2>
        <div class="gradient-divider"></div>
        <p>‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡πÄ‡∏£‡∏Å‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏°‡∏µ‡∏ï‡∏µ‡∏Å‡∏±‡∏ô‡∏ö‡πâ‡∏≤‡∏á‡∏î‡πà‡∏≤‡∏Å‡∏±‡∏ô‡∏ö‡πâ‡∏≤‡∏á‡πÄ‡πÄ‡∏ï‡πà‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏Å‡πá‡∏°‡∏≤‡∏™‡∏ô‡∏¥‡∏ó‡∏Å‡∏±‡∏ô ‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏ô‡∏¥‡∏ó‡∏Å‡∏±‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÜ‡∏Å‡πá‡∏Ñ‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏á‡∏î‡∏π Until Then ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡∏ï‡∏¥‡∏î‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡πÜ‡∏ñ‡∏∂‡∏á‡∏Ç‡∏ô‡∏≤‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô‡∏°‡∏≤‡∏î‡∏π‡πÄ‡∏•‡∏¢</p>
        <button class="btn" id="next1">‡∏Å‡∏î‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡∏î‡∏≤‡∏≤ ‚Üí</button>
      </div>
    </div>
  </section>

  <section id="page3">
    <div class="glass-card" style="max-width: 1000px;">
      <div class="split-layout">
        <div class="split-left center-text float-icon">
          <svg width="180" height="180" viewBox="0 0 100 100">
            <circle cx="50" cy="50" r="25" fill="#ffaccf" opacity="0.7"><animate attributeName="r" values="25;28;25" dur="3s" repeatCount="indefinite" /></circle>
            <circle cx="40" cy="45" r="5" fill="white"/><circle cx="60" cy="45" r="5" fill="white"/>
            <path d="M50 70 L50 90" stroke="#ff79a8" stroke-width="4" stroke-dasharray="2 4"><animate attributeName="stroke-dashoffset" values="0;10" dur="1.5s" repeatCount="indefinite" /></path>
          </svg>
        </div>
        <div class="split-right">
          <h2>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡πç‡∏≤</h2>
          <div class="gradient-divider" style="margin-left:0;"></div>
          <p>‡∏ó‡∏µ‡πà‡πÜ‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏∞‡πÄ‡∏•‡∏≤‡∏∞‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ‡∏™‡∏¥‡πà‡∏á‡πÄ‡πÄ‡∏¢‡πà‡πÜ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤ ‡πÄ‡πÄ‡∏ï‡πà‡πÄ‡∏£‡∏≤‡∏Å‡πá‡∏¢‡∏±‡∏á‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏≠‡∏†‡∏±‡∏¢‡∏ã‡∏∂‡πà‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡πÄ‡∏•‡∏∞‡∏Å‡∏±‡∏ô ‡∏Ñ‡∏≠‡∏¢‡∏õ‡∏•‡∏≠‡∏ö‡∏ã‡∏∂‡πà‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡πÄ‡∏•‡∏∞‡∏Å‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏à‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏°‡πà‡∏î‡∏µ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï</p>
          <button class="btn" id="next2">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏´‡∏°‡∏î‡∏´‡∏£‡∏≠‡∏Å‡∏ô‡∏∞ ‚Üí</button>
        </div>
      </div>
    </div>
  </section>

  <section id="page4">
    <div class="glass-card center-text">
      <span class="small-overline">‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡πá‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡πÄ‡∏•‡πâ‡∏ß‚Ä¶</span>
      <h2>‡∏≠‡∏ß‡∏¢‡∏û‡∏£</h2>
      <p style="max-width: 600px;">‚Äú‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡πÄ‡∏Ç‡πá‡∏á‡πÄ‡πÄ‡∏£‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ ‡πÑ‡∏°‡πà‡πÄ‡∏à‡πá‡∏ö‡∏õ‡πà‡∏ß‡∏¢‡∏á‡πà‡∏≤‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏û‡∏ö‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏ó‡∏±‡πâ‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏≤‡∏Å‡∏õ‡∏£‡∏≤‡∏ñ‡∏ô‡∏≤‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏î‡∏û‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏™‡∏°‡∏´‡∏ß‡∏±‡∏á‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡πÜ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏Ç‡∏≠‡∏á‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏¢ ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏î‡∏µ‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÑ‡∏î‡πâ ‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏•‡∏∑‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Å‡πà‡∏≤‡πÜ‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏´‡∏°‡∏î‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÄ‡πÄ‡∏•‡πâ‡∏ß‡∏ô‡πà‡∏∞‚Äù</p>
      <button class="btn" id="surpriseBtn">‡∏¢‡∏±‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏û‡∏£‡∏™‡πå‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏≠‡∏µ‡∏Å‡∏ô‡∏∞ üéÇ</button>
    </div>
  </section>

  <section id="page5">
    <div class="center-text" style="width:100%; display: flex; flex-direction: column; align-items: center;">
      <!-- CAKE container (no inline style) -->
      <div id="cakeContainer" class="cake-wrapper">
        <svg class="cake-svg" viewBox="0 0 400 350">
          <g id="slice-bottom-left" class="slice-group"><rect x="40" y="240" width="160" height="60" rx="20" fill="#ffb8d2" stroke="#ff6392" stroke-width="2" /><circle cx="80" cy="230" r="14" fill="#e8436e" /></g>
          <g id="slice-bottom-right" class="slice-group"><rect x="200" y="240" width="160" height="60" rx="20" fill="#ffa6c9" stroke="#ff6392" stroke-width="2" /><circle cx="300" cy="230" r="14" fill="#e8436e" /></g>
          <g id="slice-middle-left" class="slice-group"><rect x="70" y="180" width="130" height="50" rx="18" fill="#ff9ecf" stroke="#ff3b7b" stroke-width="2" /><circle cx="100" cy="170" r="12" fill="#da3e6b" /></g>
          <g id="slice-middle-right" class="slice-group"><rect x="200" y="180" width="130" height="50" rx="18" fill="#ff8ec9" stroke="#ff3b7b" stroke-width="2" /><circle cx="280" cy="170" r="12" fill="#da3e6b" /></g>
          <g id="slice-top-left" class="slice-group"><rect x="100" y="130" width="100" height="40" rx="15" fill="#ff79b0" stroke="#ff2b6e" stroke-width="2" /><circle cx="125" cy="120" r="10" fill="#c73862" /></g>
          <g id="slice-top-right" class="slice-group"><rect x="200" y="130" width="100" height="40" rx="15" fill="#ff6aa7" stroke="#ff2b6e" stroke-width="2" /><circle cx="260" cy="120" r="10" fill="#c73862" /></g>
          <rect x="180" y="85" width="40" height="50" rx="8" fill="#fff0d0" stroke="#faa7c2" stroke-width="2" />
          <path d="M190 75 L200 55 L210 75" fill="#fce570" opacity="0.9"><animate attributeName="opacity" values="0.9;1;0.7;1" dur="1.2s" repeatCount="indefinite" /></path>
          <circle cx="155" cy="195" r="6" fill="white" stroke="#b3446b" stroke-width="2" />
          <circle cx="245" cy="195" r="6" fill="white" stroke="#b3446b" stroke-width="2" />
          <circle cx="160" cy="200" r="2" fill="#502433" /><circle cx="250" cy="200" r="2" fill="#502433" />
          <circle cx="130" cy="215" r="5" fill="#ffb3c6" opacity="0.7" /><circle cx="270" cy="215" r="5" fill="#ffb3c6" opacity="0.7" />
        </svg>
        <button class="btn" id="biteBtn">‡∏Å‡∏¥‡∏ô‡πÄ‡∏Ñ‡πâ‡∏Å‡∏Å‡∏Å üç∞</button>
      </div>

      <!-- FINAL PAPER CARD (hidden by default) -->
      <div id="finalPaperCard" class="paper-card">
        <h3>‡∏ñ‡∏∂‡∏á ‡∏î‡∏≤</h3>
        <div style="height:3px; width:100px; background: #ff9ecf; margin:15px auto;"></div>
        <p style="font-size:1.5rem;">‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏à‡∏£‡∏¥‡∏á‡πÜ‡∏ô‡∏∞‡∏î‡∏≤<br>‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏ô‡∏∞‡∏î‡∏≤‡∏î‡πâ‡∏≤</p>
        <p class="glow-text" style="font-size:1.2rem;">‚ú® ‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏ô‡∏∞‡∏∞‡∏∞ ‚ú®</p>
        <button class="btn" id="replayBtn" style="margin-top:20px;">‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏õ‡∏î‡∏π‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÉ‡∏´‡∏°‡πà</button>
      </div>
    </div>
  </section>

  <!-- JavaScript (no code entry, simplified) -->
  <script>
    (function() {
      // ---------- ERROR HANDLING ----------
      window.onerror = function(msg, src, line, col, err) {
        console.error('Caught:', msg, err);
        return true;
      };

      // ---------- DOM ELEMENT CACHES ----------
      const cursorGlow = document.getElementById('cursorGlow');
      const sections = document.querySelectorAll('section');
      const beginBtn = document.getElementById('beginBtn');
      const next1 = document.getElementById('next1');
      const next2 = document.getElementById('next2');
      const surpriseBtn = document.getElementById('surpriseBtn');
      const biteBtn = document.getElementById('biteBtn');
      const replayBtn = document.getElementById('replayBtn');
      const cakeContainer = document.getElementById('cakeContainer');
      const paperCard = document.getElementById('finalPaperCard');

      // Cake slices (cached)
      const sliceGroups = Array.from(document.querySelectorAll('.slice-group'));
      let currentSliceIndex = 0;                     // tracks next slice to hide

      // ---------- CAKE LOGIC ----------
      function finishCake() {
        cakeContainer.classList.add('cake-fade-out');
        setTimeout(() => {
          cakeContainer.style.display = 'none';   // fully remove
          // directly show final card + confetti
          paperCard.classList.add('show');
          startConfetti();
        }, 600);
      }

      biteBtn.addEventListener('click', function() {
        if (currentSliceIndex >= sliceGroups.length) return;
        sliceGroups[currentSliceIndex].classList.add('slice-hidden');
        currentSliceIndex++;
        cakeContainer.classList.add('bounce-animation');
        setTimeout(() => cakeContainer.classList.remove('bounce-animation'), 400);

        if (currentSliceIndex === sliceGroups.length) {
          finishCake();
        }
      });

      // ---------- CURSOR GLOW (desktop) ----------
      if (window.matchMedia('(hover: hover)').matches) {
        document.addEventListener('mousemove', (e) => {
          requestAnimationFrame(() => {
            cursorGlow.style.left = e.clientX + 'px';
            cursorGlow.style.top = e.clientY + 'px';
          });
        });
      } else {
        cursorGlow.style.display = 'none';
      }

      // ---------- RIPPLE EFFECT (all .btn) ----------
      function addRipple(btn) {
        btn.addEventListener('click', function(e) {
          const rect = btn.getBoundingClientRect();
          const ripple = document.createElement('span');
          const size = Math.max(rect.width, rect.height);
          ripple.style.width = ripple.style.height = size + 'px';
          ripple.style.left = (e.clientX - rect.left - size/2) + 'px';
          ripple.style.top = (e.clientY - rect.top - size/2) + 'px';
          ripple.className = 'ripple';
          btn.appendChild(ripple);
          setTimeout(() => ripple.remove(), 600);
        });
      }
      document.querySelectorAll('.btn').forEach(addRipple);

      // ---------- SECTION OBSERVER (with try/catch) ----------
      try {
        const observerOptions = { threshold: 0.6 };
        const sectionObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.remove('fade-out');
            } else {
              entry.target.classList.add('fade-out');
            }
          });
        }, observerOptions);
        sections.forEach(s => sectionObserver.observe(s));
      } catch (e) { console.warn('IntersectionObserver not supported'); }

      // ---------- CAKE SPARKLE ON HOVER ----------
      const cakeSvg = document.querySelector('.cake-svg');
      if (cakeSvg) {
        cakeSvg.addEventListener('mouseenter', () => {
          cakeSvg.style.filter = 'drop-shadow(0 0 15px #ff9ecf) drop-shadow(0 0 30px #ff4fa3)';
        });
        cakeSvg.addEventListener('mouseleave', () => {
          cakeSvg.style.filter = 'drop-shadow(0 15px 20px rgba(255, 80, 140, 0.3))';
        });
      }

      // ---------- SCROLL NAVIGATION ----------
      function scrollToSection(id) {
        document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
      }
      beginBtn.addEventListener('click', () => scrollToSection('page2'));
      next1.addEventListener('click', () => scrollToSection('page3'));
      next2.addEventListener('click', () => scrollToSection('page4'));
      surpriseBtn.addEventListener('click', () => scrollToSection('page5'));

      // ---------- REPLAY BUTTON (full reset) ----------
      replayBtn.addEventListener('click', () => {
        // reset cake
        sliceGroups.forEach(g => g.classList.remove('slice-hidden'));
        currentSliceIndex = 0;
        cakeContainer.classList.remove('cake-fade-out');
        cakeContainer.style.display = 'flex';
        cakeContainer.style.opacity = '';
        biteBtn.style.display = 'inline-block';
        paperCard.classList.remove('show');
        if (confettiAnim) cancelAnimationFrame(confettiAnim);
        confettiAnim = null;
        if (confettiCtx) confettiCtx.clearRect(0,0,canvas.width,canvas.height);
        scrollToSection('page1');
      });

      // ---------- CONFETTI (optimized) ----------
      const canvas = document.getElementById('confetti-canvas');
      let confettiCtx = null;
      try { confettiCtx = canvas.getContext('2d'); } catch (e) {}
      let width, height, particles = [], confettiAnim = null;
      function resizeCanvas() {
        width = window.innerWidth;
        height = window.innerHeight;
        if (canvas) { canvas.width = width; canvas.height = height; }
      }
      resizeCanvas();
      let resizeTimeout;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(resizeCanvas, 200);
      });

      window.startConfetti = function() {
        if (!confettiCtx) return;
        if (confettiAnim) cancelAnimationFrame(confettiAnim);
        const particleCount = window.innerWidth < 768 ? 40 : 80;
        particles = [];
        for (let i=0; i<particleCount; i++) {
          particles.push({
            x: Math.random() * width,
            y: Math.random() * height - height,
            size: Math.random() * 8 + 4,
            speedY: Math.random() * 4 + 2,
            speedX: Math.random() * 2 - 1,
            color: `hsl(${Math.random() * 40 + 320}, 80%, 70%)`
          });
        }
        confettiAnim = requestAnimationFrame(drawConfetti);
      };

      function drawConfetti() {
        if (!confettiCtx) return;
        try {
          confettiCtx.clearRect(0, 0, width, height);
          let alive = false;
          for (let p of particles) {
            p.y += p.speedY * 0.6;
            p.x += p.speedX * 0.3;
            if (p.y < height) alive = true;
            confettiCtx.fillStyle = p.color;
            confettiCtx.beginPath();
            confettiCtx.arc(p.x, p.y, p.size * 0.7, 0, Math.PI * 2);
            confettiCtx.fill();
          }
          if (alive) {
            confettiAnim = requestAnimationFrame(drawConfetti);
          } else {
            confettiAnim = null;
          }
        } catch (e) { console.warn('confetti error', e); }
      }

      // ---------- PARTICLES (mobile friendly) ----------
      function createParticles() {
        const container = document.getElementById('particles-container');
        if (!container) return;
        const count = window.innerWidth < 768 ? 8 : 15;
        for (let i=0; i<count; i++) {
          const heart = document.createElement('div');
          heart.className = 'heart-particle';
          heart.style.left = Math.random()*100+'%';
          heart.style.animationDelay = Math.random()*10+'s';
          heart.style.fontSize = (Math.random()*30+20)+'px';
          heart.innerText = '‚ù§Ô∏è';
          container.appendChild(heart);
        }
        for (let i=0; i<(window.innerWidth<768?4:8); i++) {
          const spark = document.createElement('div');
          spark.className = 'sparkle';
          spark.style.left = Math.random()*100+'%';
          spark.style.top = Math.random()*100+'%';
          spark.style.animationDelay = Math.random()*4+'s';
          container.appendChild(spark);
        }
      }
      createParticles();

      // ---------- NO CODE ENTRY, JUST START ----------
      // body overflow already auto
    })();
  </script>

  <!-- YouTube IFrame API integration (single music button) -->
  <script>
    // YouTube Player state
    let ytPlayer = null;
    let ytIsPlaying = false;
    const musicBtn = document.getElementById('musicToggle');

    // Load YouTube IFrame API
    const tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    document.body.appendChild(tag);

    // Global callback for API ready
    window.onYouTubeIframeAPIReady = function() {
      try {
        ytPlayer = new YT.Player('yt-player', {
          height: '0',
          width: '0',
          videoId: 'eye_ntqvnVc',
          playerVars: {
            playsinline: 1,
            controls: 0,
            modestbranding: 1
          },
          events: {
            'onReady': (event) => {
              event.target.setVolume(50); // default 50%
            }
          }
        });
      } catch (e) {
        console.warn('YouTube player creation failed', e);
      }
    };

    // Fade in volume over duration (ms)
    function fadeInVolume(targetVolume, duration) {
      if (!ytPlayer || !ytPlayer.setVolume) return;
      let current = 0;
      ytPlayer.setVolume(0);
      const step = targetVolume / (duration / 100);
      const interval = setInterval(() => {
        current += step;
        if (current >= targetVolume) {
          ytPlayer.setVolume(targetVolume);
          clearInterval(interval);
        } else {
          ytPlayer.setVolume(Math.round(current));
        }
      }, 100);
    }

    // Toggle play/pause
    musicBtn.addEventListener('click', function() {
      if (!ytPlayer || !ytPlayer.playVideo) {
        alert('YouTube player not ready yet. Please try again.');
        return;
      }

      if (!ytIsPlaying) {
        ytPlayer.playVideo();
        fadeInVolume(50, 2000);
        musicBtn.innerText = '‚è∏ ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á';
        ytIsPlaying = true;
      } else {
        ytPlayer.pauseVideo();
        musicBtn.innerText = 'üéµ ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á';
        ytIsPlaying = false;
      }
    });
  </script>
</body>
</html>
```
